"use strict";angular.module("govhackFrontendApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/alex",{templateUrl:"views/alex.html",controller:"AlexCtrl"}).when("/max",{templateUrl:"views/max.html",controller:"MaxCtrl"}).when("/mojgan",{templateUrl:"views/mojgan.html",controller:"MojganCtrl"}).otherwise({template:"",controller:function(a){a({method:"GET",url:"/404.html"}).success(function(a){document.open(),document.write(a),document.close()})}})}]),angular.module("govhackFrontendApp").controller("HeaderCtrl",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("govhackFrontendApp").controller("MainCtrl",["$scope",function(){}]),angular.module("govhackFrontendApp").controller("AboutCtrl",["$scope",function(){}]),angular.module("govhackFrontendApp").directive("jsMap",["data",function(a){return{templateUrl:"views/jsmap.html",restrict:"E",link:function(){function b(){d3.selectAll(".big").transition().attr("r",j+8+"px").transition().attr("r",j+"px")}function c(a){for(var b=0;b<a.length;++b)f.push([a[b].lat,a[b].long]);e.draw(),console.info(f)}function d(){$("input.slider").slider();var a=new google.maps.Map(document.getElementById("map"),{center:h,zoom:4,mapTypeId:google.maps.MapTypeId.TERRAIN});e=new google.maps.OverlayView,e.onAdd=function(){var a=d3.select(this.getPanes().overlayLayer).append("svg");e.draw=function(){d3.selectAll("circle").remove();{var b=this.getProjection(),c=b.fromLatLngToDivPixel(g),d=b.fromLatLngToDivPixel(i);b.fromLatLngToDivPixel(h)}j=(d.x-c.x)/80,a.style("left",c.x+"px").style("top",c.y+"px").style("width",d.x-c.x+"px").style("height",d.y-c.y+"px");for(var e=0;e<f.length;++e){var k=b.fromLatLngToDivPixel(new google.maps.LatLng(f[e][0],f[e][1]));a.append("circle").attr("r",j).attr("cx",k.x-c.x+"px").attr("cy",k.y-c.y+"px").attr("fill","#ffaa00").attr("class","big"),a.append("circle").attr("class","small").attr("r",j).attr("cx",k.x-c.x+"px").attr("cy",k.y-c.y+"px").attr("fill","#ff0000")}}},e.setMap(a),setInterval(b,1e3)}var e,f=[];a.sites.query(c);var g=new google.maps.LatLng(-5,110),h=new google.maps.LatLng(-27,133),i=new google.maps.LatLng(-49,156),j=0;d()}}}]),angular.module("govhackFrontendApp").controller("AlexCtrl",["$scope","data",function(a,b){a.sites=b.getSites({dataset:"acorn-sat"}),a.timeseries=b.getTimeseries({timeperiod:"monthly",dataset:"acorn-sat","max-temp":!0,"max-temp-std-dev":!0,time:"09-2008",north:-35,east:150.5,south:-36,west:147.2})}]),angular.module("govhackFrontendApp").controller("MaxCtrl",["$scope",function(){}]),angular.module("govhackFrontendApp").controller("MojganCtrl",["$scope",function(a){a.test="Test",a.testSubmit=function(){a.test=a.testInput}}]),angular.module("govhackFrontendApp").factory("data",["$resource",function(a){var b="http://api.rubygovhackers.org/v1",c=a(b+"/sites/:dataset",{},{get:{method:"GET",cache:!0}}),d=a(b+"/timeseries/:timeperiod/:dataset",{},{get:{method:"GET",cache:!0}});return{getSites:function(a,b){return c.get(a,b)},getTimeseries:function(a,b){return d.query(a,b)}}}]),angular.module("govhackFrontendApp").directive("timeseries",function(){return{templateUrl:"views/timeseries.html",restrict:"E",link:function(){{var a=new Rickshaw.Color.Palette,b=new Rickshaw.Graph({element:document.querySelector("#chart"),width:540,height:250,series:[{name:"Northeast",data:[{x:-1893456e3,y:25868573},{x:-1577923200,y:29662053},{x:-1262304e3,y:34427091},{x:-946771200,y:35976777},{x:-631152e3,y:39477986},{x:-315619200,y:44677819},{x:0,y:49040703},{x:315532800,y:49135283},{x:631152e3,y:50809229},{x:946684800,y:53594378},{x:1262304e3,y:55317240}],color:a.color()},{name:"Midwest",data:[{x:-1893456e3,y:29888542},{x:-1577923200,y:34019792},{x:-1262304e3,y:38594100},{x:-946771200,y:40143332},{x:-631152e3,y:44460762},{x:-315619200,y:51619139},{x:0,y:56571663},{x:315532800,y:58865670},{x:631152e3,y:59668632},{x:946684800,y:64392776},{x:1262304e3,y:66927001}],color:a.color()},{name:"South",data:[{x:-1893456e3,y:29389330},{x:-1577923200,y:33125803},{x:-1262304e3,y:37857633},{x:-946771200,y:41665901},{x:-631152e3,y:47197088},{x:-315619200,y:54973113},{x:0,y:62795367},{x:315532800,y:75372362},{x:631152e3,y:85445930},{x:946684800,y:100236820},{x:1262304e3,y:114555744}],color:a.color()},{name:"West",data:[{x:-1893456e3,y:7082086},{x:-1577923200,y:9213920},{x:-1262304e3,y:12323836},{x:-946771200,y:14379119},{x:-631152e3,y:20189962},{x:-315619200,y:28053104},{x:0,y:34804193},{x:315532800,y:43172490},{x:631152e3,y:52786082},{x:946684800,y:63197932},{x:1262304e3,y:71945553}],color:a.color()}]});new Rickshaw.Graph.Axis.Time({graph:b}),new Rickshaw.Graph.Axis.Y({graph:b,orientation:"left",tickFormat:Rickshaw.Fixtures.Number.formatKMBT,element:document.getElementById("y_axis")})}b.render()}}});